{% extends 'base.html' %}

{% block content %}
	<div>
		<table id="myTable" class="display">
			<thead>
		        <tr>
		        	<th>Cover</th>
		        	<th>Product ID</th>
		            <th>Title</th>
		            <th>First release date</th>
		            <th>More information</th>
		        </tr>
		    </thead>
		    <tbody>
		        {% if all_games|length > 0 %}
		        	{% for game in all_games %}
			        	<tr>
			        		<td><img src="{{ game.cover }}" alt="game cover"/></td>
			        		<td>{{ game.id }}</td>
			        		<td>{{ game.title }}</td>
			        		<td>{{ game.release_date }}</td>
			        		<td><button class="btn btn-info btn-sm" type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{ game.id }}">More information</button></td>
			        	</tr>
			        {% endfor %}
		        {% endif %}
		    </tbody>
		</table>
	</div>


	{% if all_games|length > 0 %}
		{% for game in all_games %}
			<div class="modal fade" id="{{ game.id }}" tabindex="-1" role="dialog" aria-labelledby="{{ game.id }}Label" aria-hidden="true">
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title">{{ game.title }}</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
			      </div>
			      <div class="modal-body">
			      	<img src="{{ game.cover }}" alt="game cover"/>
			      	<hr>
			      	<p><strong>Release date</strong>: {{ game.release_date }}</p>
			      	<p><strong>Summary</strong></p>
			        <p>{{ game.summary }}</p>
			        <p><strong>Storyline</strong></p>
			        <p>{{ game.storyline }}</p>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			      </div>
			    </div>
			  </div>
			</div>
		{% endfor %}
	{% endif %}
{% endblock %}